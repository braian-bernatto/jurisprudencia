import Head from 'next/head'
import { useContext, useEffect } from 'react'
import appContext from '../context/app/appContext'
import Entidad from '../components/Entidad'
import Filtro from '../components/Filtro'
import Footer from '../components/Footer'
import Header from '../components/Header'
import Listado from '../components/Listado'
import Selected from '../components/Selected'
import PdfDocument from '../components/PdfDocument'
import ModalEntidad from '../components/ModalEntidad'

export default function Home() {
  // extraer state de aplicacion
  const AppContext = useContext(appContext)
  const {
    modalPdf,
    modalEntidad,
    entidadSelected,
    tsje,
    tribunal,
    juzgado,
    entidades,
    openModalEntidad,
    selectEntidad,
    entidadesHandler,
    getResoluciones,
    getTipoEntidades,
    getYears
  } = AppContext

  useEffect(() => {
    getYears()
    getResoluciones()
    getTipoEntidades()
  }, [])

  return (
    <div className='container mx-auto'>
      <Head>
        <title>Jurisprudencias | TSJE</title>
        <meta
          name='app de seguimiento de jurisprudencias del tsje'
          content='Generated by create next app'
        />
        <link rel='icon' href='/favicon.ico' />
      </Head>
      <Header />
      <main className='flex flex-col w-full justify-center items-center mt-10 gap-4'>
        <div className='flex flex-wrap gap-4 justify-center items-center relative'>
          <ul className='flex flex-wrap gap-4 justify-center relative'>
            {entidades.map(entidad => (
              <li
                key={entidad.tipo_entidad_id}
                className={`relative ${
                  entidadSelected === entidad.tipo_entidad_descri
                    ? 'selected'
                    : ''
                }`}
              >
                <label className='flex justify-center'>
                  <input
                    className='hidden'
                    type='radio'
                    value={entidad.tipo_entidad_descri}
                    name='entidad'
                    onClick={e =>
                      selectEntidad(
                        e.target.value === entidadSelected ? '' : e.target.value
                      )
                    }
                  />
                  <Entidad datos={entidad} />
                  {entidadSelected === entidad.tipo_entidad_descri ? (
                    <Selected />
                  ) : (
                    ''
                  )}
                </label>
              </li>
            ))}
          </ul>
          {modalEntidad && entidadSelected === 'TRIBUNAL ELECTORAL' && (
            <ModalEntidad
              data={[
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre: 'Tribunal Electoral Capital y Central',
                    miembros: [
                      { nombre: 'Hugo Caceres', cargo: 'Presidente' },
                      {
                        nombre: 'Fernando Chavez',
                        cargo: 'Vicepresidente'
                      },
                      { nombre: 'Denis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre:
                      'Tribunal Electoral de Paraguarí, Cordillera, Pdte. Hayes y Boquerón',
                    miembros: [
                      { nombre: 'Diego Caceres', cargo: 'Presidente' },
                      { nombre: 'Denis Chavez', cargo: 'Vicepresidente' },
                      { nombre: 'Luis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre: 'Tribunal Electoral Capital y Central',
                    miembros: [
                      { nombre: 'Hugo Caceres', cargo: 'Presidente' },
                      {
                        nombre: 'Fernando Chavez',
                        cargo: 'Vicepresidente'
                      },
                      { nombre: 'Denis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre:
                      'Tribunal Electoral de Paraguarí, Cordillera, Pdte. Hayes y Boquerón',
                    miembros: [
                      { nombre: 'Diego Caceres', cargo: 'Presidente' },
                      { nombre: 'Denis Chavez', cargo: 'Vicepresidente' },
                      { nombre: 'Luis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre: 'Tribunal Electoral Capital y Central',
                    miembros: [
                      { nombre: 'Hugo Caceres', cargo: 'Presidente' },
                      {
                        nombre: 'Fernando Chavez',
                        cargo: 'Vicepresidente'
                      },
                      { nombre: 'Denis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre:
                      'Tribunal Electoral de Paraguarí, Cordillera, Pdte. Hayes y Boquerón',
                    miembros: [
                      { nombre: 'Diego Caceres', cargo: 'Presidente' },
                      { nombre: 'Denis Chavez', cargo: 'Vicepresidente' },
                      { nombre: 'Luis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre: 'Tribunal Electoral Capital y Central',
                    miembros: [
                      { nombre: 'Hugo Caceres', cargo: 'Presidente' },
                      {
                        nombre: 'Fernando Chavez',
                        cargo: 'Vicepresidente'
                      },
                      { nombre: 'Denis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre:
                      'Tribunal Electoral de Paraguarí, Cordillera, Pdte. Hayes y Boquerón',
                    miembros: [
                      { nombre: 'Diego Caceres', cargo: 'Presidente' },
                      { nombre: 'Denis Chavez', cargo: 'Vicepresidente' },
                      { nombre: 'Luis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre: 'Tribunal Electoral Capital y Central',
                    miembros: [
                      { nombre: 'Hugo Caceres', cargo: 'Presidente' },
                      {
                        nombre: 'Fernando Chavez',
                        cargo: 'Vicepresidente'
                      },
                      { nombre: 'Denis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre:
                      'Tribunal Electoral de Paraguarí, Cordillera, Pdte. Hayes y Boquerón',
                    miembros: [
                      { nombre: 'Diego Caceres', cargo: 'Presidente' },
                      { nombre: 'Denis Chavez', cargo: 'Vicepresidente' },
                      { nombre: 'Luis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre: 'Tribunal Electoral Capital y Central',
                    miembros: [
                      { nombre: 'Hugo Caceres', cargo: 'Presidente' },
                      {
                        nombre: 'Fernando Chavez',
                        cargo: 'Vicepresidente'
                      },
                      { nombre: 'Denis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre:
                      'Tribunal Electoral de Paraguarí, Cordillera, Pdte. Hayes y Boquerón',
                    miembros: [
                      { nombre: 'Diego Caceres', cargo: 'Presidente' },
                      { nombre: 'Denis Chavez', cargo: 'Vicepresidente' },
                      { nombre: 'Luis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre: 'Tribunal Electoral Capital y Central',
                    miembros: [
                      { nombre: 'Hugo Caceres', cargo: 'Presidente' },
                      {
                        nombre: 'Fernando Chavez',
                        cargo: 'Vicepresidente'
                      },
                      { nombre: 'Denis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre:
                      'Tribunal Electoral de Paraguarí, Cordillera, Pdte. Hayes y Boquerón',
                    miembros: [
                      { nombre: 'Diego Caceres', cargo: 'Presidente' },
                      { nombre: 'Denis Chavez', cargo: 'Vicepresidente' },
                      { nombre: 'Luis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre: 'Tribunal Electoral Capital y Central',
                    miembros: [
                      { nombre: 'Hugo Caceres', cargo: 'Presidente' },
                      {
                        nombre: 'Fernando Chavez',
                        cargo: 'Vicepresidente'
                      },
                      { nombre: 'Denis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre:
                      'Tribunal Electoral de Paraguarí, Cordillera, Pdte. Hayes y Boquerón',
                    miembros: [
                      { nombre: 'Diego Caceres', cargo: 'Presidente' },
                      { nombre: 'Denis Chavez', cargo: 'Vicepresidente' },
                      { nombre: 'Luis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre: 'Tribunal Electoral Capital y Central',
                    miembros: [
                      { nombre: 'Hugo Caceres', cargo: 'Presidente' },
                      {
                        nombre: 'Fernando Chavez',
                        cargo: 'Vicepresidente'
                      },
                      { nombre: 'Denis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre:
                      'Tribunal Electoral de Paraguarí, Cordillera, Pdte. Hayes y Boquerón',
                    miembros: [
                      { nombre: 'Diego Caceres', cargo: 'Presidente' },
                      { nombre: 'Denis Chavez', cargo: 'Vicepresidente' },
                      { nombre: 'Luis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre: 'Tribunal Electoral Capital y Central',
                    miembros: [
                      { nombre: 'Hugo Caceres', cargo: 'Presidente' },
                      {
                        nombre: 'Fernando Chavez',
                        cargo: 'Vicepresidente'
                      },
                      { nombre: 'Denis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre:
                      'Tribunal Electoral de Paraguarí, Cordillera, Pdte. Hayes y Boquerón',
                    miembros: [
                      { nombre: 'Diego Caceres', cargo: 'Presidente' },
                      { nombre: 'Denis Chavez', cargo: 'Vicepresidente' },
                      { nombre: 'Luis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre: 'Tribunal Electoral Capital y Central',
                    miembros: [
                      { nombre: 'Hugo Caceres', cargo: 'Presidente' },
                      {
                        nombre: 'Fernando Chavez',
                        cargo: 'Vicepresidente'
                      },
                      { nombre: 'Denis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre:
                      'Tribunal Electoral de Paraguarí, Cordillera, Pdte. Hayes y Boquerón',
                    miembros: [
                      { nombre: 'Diego Caceres', cargo: 'Presidente' },
                      { nombre: 'Denis Chavez', cargo: 'Vicepresidente' },
                      { nombre: 'Luis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre: 'Tribunal Electoral Capital y Central',
                    miembros: [
                      { nombre: 'Hugo Caceres', cargo: 'Presidente' },
                      {
                        nombre: 'Fernando Chavez',
                        cargo: 'Vicepresidente'
                      },
                      { nombre: 'Denis Caceres', cargo: 'Vocal' }
                    ]
                  }
                },
                {
                  type: 'TRIBUNAL',
                  data: {
                    entidadNombre:
                      'Tribunal Electoral de Paraguarí, Cordillera, Pdte. Hayes y Boquerón',
                    miembros: [
                      { nombre: 'Diego Caceres', cargo: 'Presidente' },
                      { nombre: 'Denis Chavez', cargo: 'Vicepresidente' },
                      { nombre: 'Luis Caceres', cargo: 'Vocal' }
                    ]
                  }
                }
              ]}
            />
          )}
          {modalEntidad && entidadSelected === 'JUZGADO' && (
            <ModalEntidad
              data={[
                {
                  type: 'JUZGADO',
                  data: {
                    entidadNombre: 'Juzgado de Concepción y Alto Paraguay',
                    miembros: [{ nombre: 'Luis Chaco', cargo: 'Juez' }]
                  }
                },
                {
                  type: 'JUZGADO',
                  data: {
                    entidadNombre: 'Juzgado de Bahía Negra',
                    miembros: [{ nombre: 'Denis Chavez', cargo: 'Juez' }]
                  }
                }
              ]}
            />
          )}
        </div>
        <Filtro />
        <div className='w-full flex justify-center px-5 sm:px-0'>
          <Listado />
        </div>
      </main>
      {modalPdf && <PdfDocument />}
      <Footer />
    </div>
  )
}
